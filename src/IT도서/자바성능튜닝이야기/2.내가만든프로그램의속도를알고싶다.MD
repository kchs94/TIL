# 내가 만든 프로그램의 속도를 측정하기

- 시스템의 성능이 느릴 때 가장 먼저 해야하는 작업은
`병목 지점`을 파악하는 것이다.
  
- 애플리케이션의 속도에 문제가 있을 때 분석하기 위한 툴로는 `프로파일링`
이나 `APM(Application Performance Management)`가 있다.
  

### 프로파일링 툴이란?

시스템 문제를 분석하는 도구

- 응답시간 분석(프로파일링)
  - 하나의 클래스 내에 사용되는 메서드 단위의 응답 시간 측정 가능.
    
- 메모리 분석(프로파일링)
    - GC의 대상이 되는 부분 찾기
    - 메모리 부족 현상이 발생하는 지점 찾기

- 느린 메소드, 클래스를 찾는 걸 목적으로 한다

### APM 툴이란?

운영 환경용 툴.

- 목적에 따라 용도가 다른다.
    - 문제점 진단
    - 시스템 모니터링 및 운영


### 비교

|구분|특징|
|:-------:|:-----:|
|프로파일링|소스레벨의 분석, 세부응답시간 분석, 메모리사용량, 객체나 클래스, 소스의 라인 단위까지 분석가능 |
|APM|애플리케이션의 장애 상황에 대한 모니터링 및 문제점 진단이 주 목적. 서버의 사용자 수나 리소스에 대한 모니터링, 실시간 모니터링 |

### 툴을 사용하지 않고 더 쉽게 성능 분석하기

`System` 클래스에서 제공하는 메소드 사용하기

#### System 클래스

- 모든 메소드와 객체가 static으로 선언되어 있다.
    - 예를들어, in, out, err
    
- 생성자가 존재하지 않는다. 즉 우리가 객체를 생성할 수 없다.

- `static long currentTimeMillis()`
    - 현재 시간을 ms로 리턴한다(1/1,000초)
    - System.currentTimeMillis();
    - 오늘 날짜 알아내기용
  
- `static long nanoTime()`
  - 현재 시간을 ns로 리턴한다(1/1,000,000,000초)
  - 더 정확하게 측정이 가능하다
  - System.nanoTime();
  - 시간측정용

### 전문 측정 라이브러리로 성능 측정하기
- JHM
- JUnit
  - 자바 코드를 테스트하기 위한 프레임워크
